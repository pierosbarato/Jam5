<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>JAM Menu Editor</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" />
<!--
 		<link href="../css/bootstrap-green.css" rel="stylesheet" id="mainCSS">
  -->

<link rel="stylesheet"
	href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" />
<link rel="stylesheet"
	href="bootstrap-iconpicker/css/bootstrap-iconpicker.min.css">
</head>
<body>
	<nav class="navbar navbar-expand-lg fixed-top navbar-light bg-light">
		<button class="navbar-toggler" type="button" data-toggle="collapse"
			data-target="#navbarText" aria-controls="navbarText"
			aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarText">
			<ul class="navbar-nav mr-auto">
				<li class="nav-item"><a class="nav-link" href="../" target="_self"><i
						class="fas fa-home"></i>Menu</a></li>
			</ul>
			<a class="btn btn-success my-2 my-sm-0" href="" target="_self"><i
				class="fas fa-sync-alt"></i> Init</a>
		</div>
	</nav>

	<br />
	<br />
	<br />
	<div class="container">
		<div class="row">
			<div class="col-md-12">
				<h2>JAM Menu Editor</h2>
			</div>
		</div>

		<div class="row">
			<div class="col-md-12">
				<div class="card mb-3">
					<div class="card-header">
						<h5 class="float-left">Menu</h5>
						<div class="float-right">
							<button id="btnReload" type="button"
								class="btn btn-outline-secondary">
								<i class="fa fa-play"></i> Load Menu
							</button>
												<!-- Button trigger modal -->
							<button type="button" class="btn btn-primary" data-toggle="modal"
									data-target="#menuEditModal">Edit Item Menu
							</button>
							
						</div>
					</div>
					<div class="card-body">
						<ul id="myEditor" class="sortableLists list-group">
						</ul>
					</div>
				</div>

				<div class="card">
					<div class="card-header">
						JAM Output
						<div class="float-right">
							<button id="btnOutput" type="button" class="btn btn-success">
								<i class="fas fa-check-square"></i> Output
							</button>
						</div>
					</div>
					<div class="card-body">
						<div class="form-group">
							<textarea id="out" class="form-control" cols="50" rows="10"></textarea>
						</div>
					</div>
				</div>
			</div>
<!--
			<div class="col-md-6">
				<div class="card border-primary mb-3">
					<div class="card-header bg-primary text-white">Edit item</div>
					<div class="card-body">
						<form id="frmEdit" class="form-horizontal">
							<div class="form-group">
								<label for="text">Text</label>
								<div class="input-group">
									<input type="text" class="form-control item-menu" name="text"
										id="text" placeholder="Text">
									<div class="input-group-append">
										<button type="button" id="myEditor_icon"
											class="btn btn-outline-secondary"></button>
									</div>
								</div>
								<input type="hidden" name="icon" class="item-menu">
							</div>
							<div class="form-group">
								<label for="href">URL</label> <input type="text"
									class="form-control item-menu" id="href" name="href"
									placeholder="URL">
							</div>
							<div class="form-group">
								<label for="target">Target</label> <select name="target"
									id="target" class="form-control item-menu">
									<option value="_self">Self</option>
									<option value="_blank">Blank</option>
									<option value="_top">Top</option>
								</select>
							</div>
							<div class="form-group">
								<label for="title">Tooltip</label> <input type="text"
									name="title" class="form-control item-menu" id="title"
									placeholder="Tooltip">
							</div>
						</form>
					</div>
					<div class="card-footer">
						<button type="button" id="btnUpdate" class="btn btn-primary"
							disabled>
							<i class="fas fa-sync-alt"></i> Update
						</button>
						<button type="button" id="btnAdd" class="btn btn-success">
							<i class="fas fa-plus"></i> Add
						</button>
					</div>
				</div>
 -->
				<div>
					<!-- Modal -->
					<div class="modal fade" id="menuEditModal" tabindex="-1"
						role="dialog" aria-labelledby="exampleModalLabel"
						aria-hidden="true">
						<div class="modal-dialog" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title"
										id="exampleModalLabel">Edit Menu</h5>
									<button type="button" class="close" data-dismiss="modal"
										aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>
								<div class="modal-body">
				<div class="card border-primary mb-3">
					<div class="card-header bg-primary text-white">Edit item</div>
					<div class="card-body">
						<form id="frmEdit" class="form-horizontal">
							<div class="form-group">
								<label for="text">Text</label>
								<div class="input-group">
									<input type="text" class="form-control item-menu" name="text"
										id="text" placeholder="Text">
									<div class="input-group-append">
										<button type="button" id="myEditor_icon"
											class="btn btn-outline-secondary"></button>
									</div>
								</div>
								<input type="hidden" name="icon" class="item-menu">
							</div>
							<div class="form-group">
								<label for="href">URL</label> <input type="text"
									class="form-control item-menu" id="href" name="href"
									placeholder="URL">
							</div>
							<div class="form-group">
								<label for="target">Target</label> <select name="target"
									id="target" class="form-control item-menu">
									<option value="_self">Self</option>
									<option value="_blank">Blank</option>
									<option value="_top">Top</option>
								</select>
							</div>
							<div class="form-group">
								<label for="title">Tooltip</label> <input type="text"
									name="title" class="form-control item-menu" id="title"
									placeholder="Tooltip">
							</div>
						</form>
					</div>
					<div class="card-footer">
<!--
						<button type="button" id="btnUpdate" data-dismiss="modal"
													class="btn btn-primary"
							disabled>
							<i class="fas fa-sync-alt"></i> Update
						</button>
						<button type="button" id="btnAdd" data-dismiss="modal"
													class="btn btn-success">
							<i class="fas fa-plus"></i> Add
						</button>
 -->

					</div>

								
								</div>
								<div class="modal-footer">
						<button type="button" id="btnUpdate" data-dismiss="modal"
													class="btn btn-primary"
							disabled>
							<i class="fas fa-sync-alt"></i> Update
						</button>
						<button type="button" id="btnAdd" data-dismiss="modal"
													class="btn btn-success">
							<i class="fas fa-plus"></i> Add
						</button>

									<button type="button" class="btn btn-secondary"
										data-dismiss="modal">Close</button>
								</div>
							</div>
						</div>
					</div>
				</div>
<!--
				<h2>Note</h2>
				<ul>
					<li><a href="" target="_blank">Sviluppo</a></li>
				</ul>
			</div>
 -->
		</div>
		</div>
	</div>
	<script type="text/javascript"
		src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js'></script>
	<script type="text/javascript"
		src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.bundle.min.js"></script>
	<script type="text/javascript" src="jquery-menu-editor.js"></script>
	<script type="text/javascript"
		src="bootstrap-iconpicker/js/iconset/fontawesome5-3-1.min.js"></script>
	<script type="text/javascript"
		src="bootstrap-iconpicker/js/bootstrap-iconpicker.min.js"></script>
	<script>
		jQuery(document).ready(function() {
			/* =============== DEMO =============== */
			// menu items
			var arrayjson = [ {
				"href" : "http://home.com",
				"icon" : "fas fa-home",
				"text" : "Home",
				"target" : "_top",
				"title" : "My Home"
			}, {
				"icon" : "fas fa-chart-bar",
				"text" : "Opt 2"
			}, {
				"icon" : "fas fa-bell",
				"text" : "Opt 3"
			}, {
				"icon" : "fas fa-crop",
				"text" : "Opt 4"
			}, {
				"icon" : "fas fa-flask",
				"text" : "Opt 5"
			}, {
				"icon" : "fas fa-map-marker",
				"text" : "Opt 6"
			}, {
				"icon" : "fas fa-search",
				"text" : "Opt 7",
				"children" : [ {
					"icon" : "fas fa-plug",
					"text" : "Opt 7-1",
					"children" : [ {
						"icon" : "fas fa-filter",
						"text" : "Opt 7-1-1"
					} ]
				} ]
			} ];
			// icon picker options
			var iconPickerOptions = {
				searchText : "Icona ...",
				labelHeader : "{0}/{1}"
			};
			// sortable list options
			var sortableListOptions = {
				placeholderCss : {
					'background-color' : "#cccccc"
				}
			};

			var editor = new MenuEditor('myEditor', {
				listOptions : sortableListOptions,
				iconPicker : iconPickerOptions
			});
			editor.setForm($('#frmEdit'));
			editor.setUpdateButton($('#btnUpdate'));
			$('#btnReload').on('click', function() {
				editor.setData(arrayjson);
			});

			$('#btnOutput').on('click', function() {
				var str = editor.getString();
				$("#out").text(str);
			});

			$("#btnUpdate").click(function() {
				editor.update();
			});

			$('#btnAdd').click(function() {
				editor.add();
			});
			/* ====================================== */

			/** PAGE ELEMENTS **/
			$('[data-toggle="tooltip"]').tooltip();
			//                $.getJSON( "https://api.github.com/repos/davicotico/jQuery-Menu-Editor", function( data ) {
			//                    $('#btnStars').html(data.stargazers_count);
			//                    $('#btnForks').html(data.forks_count);
			//                });
		});
	</script>
</body>
</html>